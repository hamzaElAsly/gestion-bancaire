<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Acceuil</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/all.css}">
</head>

<body>
    <!-- SIDEBAR -->
    <div class="sidebar">
        <div class="logo">
            <i class="bi bi-play-fill"></i>
            Gestion Bancaire
        </div>
        <div class="menu-title">Menu</div>
        <nav>
            <div class="nav-item">
                <a th:href="@{/}" class="nav-link active">
                    <i class="bi bi-house-door"></i>
                    <span>Home</span>
                </a>
            </div>
            <div class="nav-item">
                <a th:href="@{/clients}" class="nav-link">
                    <i class="bi bi-people"></i>
                    <span>Client</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-bank"></i>
                    <span>Compte</span>
                </a>
            </div>
            <div class="nav-item">
                <a th:href="@{/transaction}" class="nav-link">
                    <i class="bi bi-credit-card"></i>
                    <span>Transaction</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-gear"></i>
                    <span>Settings</span>
                </a>
            </div>
        </nav>
    </div>
    
    <!-- MAIN CONTENT -->
    <div class="main-content">
        <!-- TRANSFER ACTIONS -->
        <div class="transfer-actions">
            <div class="transfer-card">
                <div class="transfer-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="bi bi-people"></i>
                </div>
                <p>Client<br><span th:text="${totalClients}"></span></p>
            </div>
            <div class="transfer-card">
                <div class="transfer-icon" style="background: linear-gradient(135deg, #06beb6 0%, #48b1bf 100%);">
                    <i class="bi bi-bank"></i>
                </div>
                <p>Compte<br><span th:text="${totalComptes}"></span></p>
            </div>
            <div class="transfer-card">
                <div class="transfer-icon" style="background: linear-gradient(135deg, #5ee7df 0%, #b490ca 100%);">
                    <i class="bi bi-credit-card"></i>
                </div>
                <p>Transaction<br><span th:text="${totalTransactions}"></span></p>
            </div>
            <div class="transfer-card">
                <div class="transfer-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <i class="bi bi-person-plus"></i>
                </div>
                <p>Total prix<br><span th:text="${totalSolde} + ' Dh'"></span></p>
            </div>
        </div>

        <!-- CONTACTS & TRANSACTIONS -->
        <div class="bottom-section">
            <div class="contacts-card">
                <h3 class="section-title">Clients récentes</h3>
                <div class="contact-item" th:each="c : ${lastClients}">
                    <div class="contact-info">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJ_I2fxYhYCW7_9bIwitAjsh3JZJ0DiB7p3g&s" 
                        alt="Eleanor" class="contact-avatar">
                        <div>
                            <div class="contact-name" th:text="${c.nom + ' ' + c.prenom}"></div>
                            <div class="contact-email" th:text="${c.email}"></div>
                        </div>
                    </div>
                    <div>
                        <div class="contact-phone">Adresse </div>
                        <div class="contact-email" th:text="${c.adresse}"></div>
                    </div>
                    <div>
                        <div class="contact-phone">Ville</div>
                        <div class="contact-email" th:text="${c.ville}"></div>
                    </div>
                </div>
            </div>
			<div class="transactions-card">
                <h3 class="section-title">Transactions récentes</h3>
                <div class="date-label">AUJOURD'HUI</div>
                <div class="transaction-item" th:each="t : ${lastTransactions}">
                    <div class="transaction-info">
						<div class="transaction-icon"
						     th:style="
						        ${t.type == 'VIREMENT'} ? 'background:#FEE2E2; color:#EF4444;' :
						        (${t.type == 'RETRAIT'} ? 'background:#FEE2E2; color:#EF4444;' :
						        (${t.type == 'DEPOT'}   ? 'background:#DCFCE7; color:#16A34A;' :
						                                  'background:#E5E7EB; color:#374151;'))">
						    <i class="bi"
						       th:classappend="
						        ${t.type == 'VIREMENT'} ? ' bi-bag' :
						        (${t.type == 'RETRAIT'} ? ' bi-arrow-up-right' :
						        (${t.type == 'DEPOT'}   ? ' bi-arrow-down-left' :
						                                  ' bi-question-circle'))">
						    </i>
						</div>
                        <div class="transaction-name" th:text="${t.compte.client.prenom + ' ' + t.compte.client.nom}"></div>
                    </div>
                    <div class="transaction-amount"
					     th:classappend="
					        ${t.type == 'DEPOT'} ? ' amount-positive' :
					        (${t.type == 'RETRAIT'} ? ' amount-negative' :
					        (${t.type == 'VIREMENT'} ? ' amount-negative' : ''))"
					     th:text="${t.montant} + ' DH'">
					</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>


</html>
